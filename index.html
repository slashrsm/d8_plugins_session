<!doctype html>
<html lang="en">

	<head>
		<meta charset="utf-8">

		<title>Drupal 8 plugin wonderland</title>

		<meta name="description" content="Session about plugin system in Drupal 8.">
		<meta name="author" content="Janez Urevc">

		<meta name="apple-mobile-web-app-capable" content="yes" />
		<meta name="apple-mobile-web-app-status-bar-style" content="black-translucent" />

		<meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">

		<link rel="stylesheet" href="css/reveal.min.css">
		<link rel="stylesheet" href="css/theme/night.css" id="theme">

		<!-- For syntax highlighting -->
		<link rel="stylesheet" href="lib/css/zenburn.css">

		<!-- If the query includes 'print-pdf', use the PDF print sheet -->
		<script>
			document.write( '<link rel="stylesheet" href="css/print/' + ( window.location.search.match( /print-pdf/gi ) ? 'pdf' : 'paper' ) + '.css" type="text/css" media="print">' );
		</script>

		<!--[if lt IE 9]>
		<script src="lib/js/html5shiv.js"></script>
		<![endif]-->
	</head>

	<body>

		<div class="reveal">

			<!-- Any section element inside of this container is displayed as a slide -->
			<div class="slides">
				<section>
					<h1>Drupal 8 plugin wonderland</h1>
					<p>
						<small><a href="http://janezurevc.name">Janez Urevc</a> / <a href="http://twitter.com/slashrsm">@slashrsm</a> / <a href="http://janezurevc.name">http://janezurevc.name</a></small>
					</p>
				</section>

        <section>
          <section>
            <h1>About me...</h1>
          </section>
          <section>
            <iframe width="840" height="480" frameborder="0" scrolling="no" marginheight="0" marginwidth="0" src="https://maps.google.si/maps/ms?msa=0&amp;msid=203130283546751827556.0004e3db33e6d0464d401&amp;gl=si&amp;ie=UTF8&amp;t=m&amp;ll=46.118942,15.435791&amp;spn=3.655405,9.228516&amp;z=7&amp;output=embed"></iframe>

            <aside class="notes">
              Notes.
            </aside>
          </section>
          <section>
            <img src="img/examiner.png" />
          </section>
          <section>
            <img src="img/drupal_headphones.png" />
          </section>
        </section>

        <section>
          <img src="img/MatrixBluePillRedPill.jpg" />
          <blockquote>You take the blue pill, the story ends, you wake up in your bed and believe whatever you want to believe. You take the red pill, you stay in Wonderland, and I show you how deep the rabbit hole goes.</blockquote>
        </section>

        <section>
          <h1>Plugins?</h1>
          <h3>
            <em>hook_X_info() replacement</em>
          </h3>
        </section>

				<section>
					<section>
						<h1>Why plugins?</h1>
					</section>
					<section>
						<h2>Object oriented</h2>
					</section>
					<section>
						<h2>Replacement logic</h2>
					</section>
          <section>
            <h2>Memory footprint</h2>
          </section>
				</section>

        <section>
          <section>
            <h1>All about discovery</h1>
          </section>
          <section>
            <h2>hook_X_info()</h2>
            <blockquote>Old fashioned way! :)</blockqoute>
          </section>
          <section>
            <h2>Variable discovery</h2>
            <blockquote><em>settings.php</em>, baby!</blockquote>
          </section>
          <section>
            <h2>Annotations</h2>
            <blockquote>So what is this thing with annotations?</blockquote>
          </section>
        </section>

        <section>
          <section>
            <h2>Annotations âŠ‚ Comments</h2>
            <blockquote>Wait, comments do matter? WTF?!?!</blockquote>
          </section>
          <section>
            <h2>Provides info about plugin</h2>
            <p>Replaces hook_X_info()</p>

            <aside class="notes">
              - parses file and stores info about all plugins
              - caches
              - files go from memory after parse - not true if you include .php
            </aside>
          </section>
          <section>
            <h2>Doctrine</h2>
            <img src="http://web.ontuts.com/wp-content/uploads/2010/07/doctrineorm.jpg" />
          </section>
        </section>

        <section>
          <section>
            <h2>I want to see some examples!</h2>
          </section>
          <section>
            <h2>Drupal/tour/Plugin/tour/tip/TipPluginText.php</h2>
            <pre>
              <code data-trim contenteditable>
/**
 * Displays some text as a tip.
 *
 * @Tip(
 *   id = "text",
 *   title = @Translation("Text")
 * )
 */
class TipPluginText ...
              </code>
            </pre>
          </section>
          <section>
            <h2>Drupal/system/Plugin/Block/SystemPoweredByBlock.php</h2>
            <pre>
              <code data-trim contenteditable>
/**
 * Provides a 'Powered by Drupal' block.
 *
 * @Plugin(
 *   id = "system_powered_by_block",
 *   admin_label = @Translation("Powered by Drupal"),
 *   module = "system"
 * )
 */
class SystemPoweredByBlock ...
              </code>
            </pre>
          </section>
          <section>
            <h2>Drupal/filter/Plugin/Filter/FilterUrl.php</h2>
            <pre>
              <code data-trim contenteditable>
/**
 * Provides a filter to convert URLs into links.
 *
 * @Filter(
 *   id = "filter_url",
 *   module = "filter",
 *   title = @Translation("Convert URLs into links"),
 *   type = FILTER_TYPE_MARKUP_LANGUAGE,
 *   settings = {
 *     "filter_url_length" = 72
 *   }
 * )
 */
class FilterUrl ...
              </code>
            </pre>
          </section>
        </section>

				<section>
					<h2>Gimme some code!</h2>
          <blockquote>Unfortunately, no one can be <em>told</em> what The Matrix is. You have to see it for yourself.</blockquote>
					<p>Let's port very simple block from D7 to D8. Meet <a href="http://drupal.org/project/pants">Pants</a> module!</p>
				</section>

        <section>
          <section>
            <h2>Feels good? Want more?</h2>
          </section>
          <section>
            <h3>Tip/Tour</h3>
            <h3>Archiver</h3>
            <h3>Filter</h3>
          </section>
          <section>
            <ul>
              <li>https://drupal.org/node/1637614</li>
              <li>http://previousnext.com.au/blog/understanding-drupal-8s-plugin-system</li>
              <li>https://portland2013.drupal.org/session/drupal-8-plugin-system-deep-dive</li>
            </ul>
          </section>
        </section>

				<section>
					<img src="img/big_boys.jpg" />
          <h3>Let's discuss!</h3>
          <p>
						<small><a href="http://janezurevc.name">Janez Urevc</a> / <a href="http://twitter.com/slashrsm">@slashrsm</a> / <a href="http://janezurevc.name">http://janezurevc.name</a></small>
					</p>
				</section>

			</div>

		</div>

		<script src="lib/js/head.min.js"></script>
		<script src="js/reveal.min.js"></script>

		<script>

			// Full list of configuration options available here:
			// https://github.com/hakimel/reveal.js#configuration
			Reveal.initialize({
				controls: true,
				progress: true,
				history: true,
				center: true,

				theme: Reveal.getQueryHash().theme, // available themes are in /css/theme
				transition: Reveal.getQueryHash().transition || 'default', // default/cube/page/concave/zoom/linear/fade/none

				// Optional libraries used to extend on reveal.js
				dependencies: [
					{ src: 'lib/js/classList.js', condition: function() { return !document.body.classList; } },
					{ src: 'plugin/markdown/marked.js', condition: function() { return !!document.querySelector( '[data-markdown]' ); } },
					{ src: 'plugin/markdown/markdown.js', condition: function() { return !!document.querySelector( '[data-markdown]' ); } },
					{ src: 'plugin/highlight/highlight.js', async: true, callback: function() { hljs.initHighlightingOnLoad(); } },
					{ src: 'plugin/zoom-js/zoom.js', async: true, condition: function() { return !!document.body.classList; } },
					{ src: 'plugin/notes/notes.js', async: true, condition: function() { return !!document.body.classList; } }
					// { src: 'plugin/leap/leap.js', async: true }
					// { src: 'plugin/search/search.js', async: true, condition: function() { return !!document.body.classList; } }
					// { src: 'plugin/remotes/remotes.js', async: true, condition: function() { return !!document.body.classList; } }
				]
			});

		</script>

	</body>
</html>
